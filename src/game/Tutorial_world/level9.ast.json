{"ast":[null,{"children":[0,2,5],"kind":"file","start":[0,0]},{"children":[3],"end":[1,0],"kind":"imports","start":[1,0]},{"children":[4],"end":[1,0],"kind":"import","start":[1,0]},{"end":[1,7],"kind":"module","start":[1,7],"value":["algebra","group","defs"]},{"children":[6,9,27],"end":[1,7],"kind":"commands","start":[1,7]},{"children":[7],"end":[2,8],"kind":"open","start":[2,0]},{"children":[8,0],"end":[2,5],"kind":"group","start":[2,5]},{"end":[2,5],"kind":"ident","start":[2,5],"value":"nat"},{"children":[0,10,15,21],"end":[52,42],"kind":"variables","start":[52,0]},{"children":[11,0,14],"end":[52,11],"kind":"binder_0","start":[52,10]},{"children":[12],"end":[52,11],"kind":"vars","start":[52,10]},{"end":[52,11],"kind":"ident","start":[52,11],"value":"G"},{"children":[0],"end":[52,19],"kind":"Type","pexpr":2,"start":[52,15]},{"children":[13],"end":[52,19],"expr":1,"kind":"notation","pexpr":2,"start":[52,15],"value":"Type"},{"children":[0,0,20],"end":[52,22],"kind":"binder_1","start":[52,21]},null,{"end":[52,22],"kind":"ident","start":[52,22],"value":"group"},{"children":[17,0],"end":[52,27],"kind":"const","pexpr":3,"start":[52,22]},{"end":[52,29],"kind":"ident","pexpr":4,"start":[52,28],"value":"G"},{"children":[18,19],"end":[52,29],"expr":8,"kind":"app","pexpr":5,"start":[52,22]},{"children":[22,0,26],"end":[52,32],"kind":"binder_0","start":[52,31]},{"children":[23,24,25],"end":[52,32],"kind":"vars","start":[52,31]},{"end":[52,32],"kind":"ident","start":[52,32],"value":"a"},{"end":[52,34],"kind":"ident","start":[52,34],"value":"b"},{"end":[52,36],"kind":"ident","start":[52,36],"value":"c"},{"end":[52,41],"expr":7,"kind":"ident","pexpr":9,"start":[52,40],"value":"G"},{"children":[0,0,0,28,0,44,53,0],"end":[57,3],"kind":"theorem","start":[54,0]},{"end":[54,6],"kind":"ident","start":[54,6],"value":"fancy_algebraic_manipulation"},null,{"end":[54,38],"kind":"ident","pexpr":10,"start":[54,37],"value":"a"},{"end":[54,42],"kind":"ident","pexpr":11,"start":[54,41],"value":"a"},{"children":[31],"end":[54,44],"kind":"notation","pexpr":13,"start":[54,42],"value":"expr ⁻¹"},{"children":[30,32],"end":[54,44],"kind":"notation","pexpr":16,"start":[54,39],"value":"expr * "},{"end":[54,48],"kind":"nat","pexpr":17,"start":[54,47],"value":"1"},{"children":[33,34],"end":[54,48],"kind":"notation","pexpr":20,"start":[54,45],"value":"expr * "},{"end":[54,52],"kind":"ident","pexpr":21,"start":[54,51],"value":"b"},{"children":[35,36],"end":[54,52],"kind":"notation","pexpr":24,"start":[54,49],"value":"expr * "},{"end":[54,56],"kind":"ident","pexpr":25,"start":[54,55],"value":"b"},{"end":[54,60],"kind":"ident","pexpr":26,"start":[54,59],"value":"c"},{"children":[38,39],"end":[54,60],"kind":"notation","pexpr":29,"start":[54,57],"value":"expr * "},{"end":[54,64],"kind":"ident","pexpr":30,"start":[54,63],"value":"c"},{"children":[41],"end":[54,66],"kind":"notation","pexpr":32,"start":[54,64],"value":"expr ⁻¹"},{"children":[40,42],"end":[54,66],"kind":"notation","pexpr":35,"start":[54,61],"value":"expr * "},{"children":[37,43],"end":[54,66],"kind":"notation","pexpr":38,"start":[54,53],"value":"expr = "},{"children":[0,0,46],"end":[57,3],"kind":"begin","pexpr":133,"start":[55,0]},{"children":[47,48,49,50,51,52],"end":[56,6],"kind":"tactic","pexpr":111,"start":[56,2],"value":"simp"},{"end":[56,6],"kind":"parse","pexpr":79,"start":[56,6]},{"end":[56,6],"kind":"parse","pexpr":82,"start":[56,6]},{"end":[56,6],"kind":"parse","pexpr":85,"start":[56,6]},{"end":[56,6],"kind":"parse","pexpr":90,"start":[56,6]},{"end":[56,6],"kind":"parse","pexpr":94,"start":[56,6]},{"end":[56,6],"kind":"parse","pexpr":108,"start":[56,6]},{"children":[45],"end":[57,3],"kind":"notation","pexpr":134,"start":[55,0],"value":"begin"}],"comments":[{"end":[1,34],"start":[1,29],"text":" hide"},{"end":[1,34],"start":[1,29],"text":" hide"},{"end":[2,17],"start":[2,12],"text":" hide"},{"end":[35,0],"start":[4,2],"text":"\n\n# Tutorial World\n\n## Level 9: The simp tactic\n\n`simp` is a tactic which tries to prove equalities using facts in its database.\nIdeally, the database of facts would result in expressions \nbeing simplified into a normal form. In practice, this is often unachievable \n(normal forms may not exist, or there may not exist a collection of rewrite rules that produce them), \nbut nevertheless we aim to approximate this ideal where possible. Even better, we would like the database \nof facts to be confluent, meaning the order in which the simplifier considers rewrites does not matter. Again, we aim to be close to confluent where possible.\n\nWhile this system is able to prove many simple statements completely automatically, proving all simple statements is not part of its job description, as disappointing as that might be.\n\nHere is an example (using mathlib).\n\n\n## Details\n\nThe `simp` tactic does basic automation. `Simp` is able\nto solve all equalities whose proofs involve a tedious number\nof rewrites of other tactics which have already been introduced.\n\nThe following lemma is an example. (If you haven't seen the following definition, don't worry! The lemma we're proving is simple!)\n\nWe defined an algebraic structure (a set G equipped by a binary operation denoted by *) called a \"group\" by the following axioms: \n\nAssociativity: for elements a, b, and c in the group G, $a * (b * c) = (a * b) * c$.\nIdentity: there's the identity element 1 such that $1 * g = g * 1 = g$ for all elements g in G. \nInverse: for each element g in G, there exists an inverse for it, $g⁻¹$, such that they \"annihilates\": $g⁻¹ * g = g * g⁻¹ = 1$. \n"},{"end":[46,0],"start":[37,2],"text":" \nAs we've already defined such axoims and properties, including:\n[mul_right_inv]: a * a⁻¹ ==> 1\n[mul_one]: 1 * 1 ==> 1\n[one_mul]: 1 * b ==> b\n[mul_inv_cancel_right]: b * c * c⁻¹ ==> b\n[eq_self_iff_true]: b = b ==> true\n\nSolely using `simp` will close the goal. \n"},{"end":[50,0],"start":[48,2],"text":" Lemma : no-side-bar \nfor three arbitrary elements a, b and c in an arbitrary group G with the identity 1, we always have $a * a⁻¹ * 1 * b = b * c * c⁻¹$, where $*$ denotes the group operation. \n"},{"end":[71,0],"start":[59,2],"text":"\n\n## The `simpa` tactics\n`simpa` is a \"finishing\" tactic modification of simp which has two forms.\n\n`simpa [rules, ...] using e` will simplify the goal and the type of e using rules, then try to close the goal using e.\n\nSimplifying the type of e makes it more likely to match the goal (which has also been simplified). This construction also tends to be more robust under changes to the simp lemma set.\n\n`simpa [rules, ...]` will simplify the goal and the type of a hypothesis this if present in the context, then try to close the goal using the assumption tactic.\n\nIf `simp` cannot close a goal, try `simpa` instead. \n"},{"end":[75,0],"start":[73,2],"text":"\n### p.s. Try using `simp` on level 1, 4, and 8! \n"}],"expr":[null,{"sort":1},{"annotation":{"args":[1],"name":"no_univ"}},{"const":["group",[]]},{"local":{"bi":0,"name":["_ffresh",0],"pp":"G","type":1}},{"app":[3,4]},{"const":["group",[0]]},{"local":{"bi":0,"name":["_ffresh",0],"pp":"G","type":1}},{"app":[6,7]},{"local":{"bi":0,"name":["_ffresh",0],"pp":"G","type":1}},{"local":{"bi":0,"name":["_ffresh",2],"pp":"a","type":7}},{"local":{"bi":0,"name":["_ffresh",2],"pp":"a","type":7}},{"const":[["has_inv","inv"],[]]},{"app":[12,11]},{"const":[["has_mul","mul"],[]]},{"app":[14,10]},{"app":[15,13]},{"prenum":{"args":[],"value":"1"}},{"const":[["has_mul","mul"],[]]},{"app":[18,16]},{"app":[19,17]},{"local":{"bi":0,"name":["_ffresh",3],"pp":"b","type":7}},{"const":[["has_mul","mul"],[]]},{"app":[22,20]},{"app":[23,21]},{"local":{"bi":0,"name":["_ffresh",3],"pp":"b","type":7}},{"local":{"bi":0,"name":["_ffresh",4],"pp":"c","type":7}},{"const":[["has_mul","mul"],[]]},{"app":[27,25]},{"app":[28,26]},{"local":{"bi":0,"name":["_ffresh",4],"pp":"c","type":7}},{"const":[["has_inv","inv"],[]]},{"app":[31,30]},{"const":[["has_mul","mul"],[]]},{"app":[33,29]},{"app":[34,32]},{"const":["eq",[]]},{"app":[36,24]},{"app":[37,35]},{"const":[["interactive","executor","execute_explicit"],[]]},{"const":["tactic",[]]},{"app":[39,40]},{"const":[["has_bind","seq"],[]]},{"const":[["has_bind","seq"],[]]},{"const":[["tactic","save_info"],[]]},{"const":[[4,"_",369],[]]},{"prenum":{"args":[],"value":"55"}},{"app":[45,46]},{"prenum":{"args":[],"value":"0"}},{"app":[47,48]},{"annotation":{"args":[49],"name":"anonymous_constructor"}},{"app":[44,50]},{"app":[43,51]},{"const":[["has_bind","seq"],[]]},{"const":[["has_bind","seq"],[]]},{"const":[["tactic","save_info"],[]]},{"const":[[4,"_",370],[]]},{"prenum":{"args":[],"value":"56"}},{"app":[56,57]},{"prenum":{"args":[],"value":"2"}},{"app":[58,59]},{"annotation":{"args":[60],"name":"anonymous_constructor"}},{"app":[55,61]},{"app":[54,62]},{"const":[["tactic","istep"],[]]},{"prenum":{"args":[],"value":"56"}},{"app":[64,65]},{"prenum":{"args":[],"value":"2"}},{"app":[66,67]},{"prenum":{"args":[],"value":"56"}},{"app":[68,69]},{"prenum":{"args":[],"value":"2"}},{"app":[70,71]},{"prenum":{"args":[],"value":"46"}},{"app":[72,73]},{"const":[["tactic","interactive","simp"],[]]},{"const":[["option","none"],[0]]},{"const":["unit",[]]},{"app":[76,77]},{"annotation":{"args":[78],"name":"as_is"}},{"app":[75,79]},{"app":[76,77]},{"annotation":{"args":[81],"name":"as_is"}},{"app":[80,82]},{"const":[["bool","ff"],[]]},{"annotation":{"args":[84],"name":"as_is"}},{"app":[83,85]},{"const":[["list","nil"],[0]]},{"const":[["tactic","simp_arg_type"],[]]},{"app":[87,88]},{"annotation":{"args":[89],"name":"as_is"}},{"app":[86,90]},{"const":["name",[]]},{"app":[87,92]},{"annotation":{"args":[93],"name":"as_is"}},{"app":[91,94]},{"const":[["interactive","loc","ns"],[]]},{"const":[["list","cons"],[0]]},{"const":["option",[0]]},{"const":["name",[]]},{"app":[98,99]},{"app":[97,100]},{"const":[["option","none"],[0]]},{"app":[102,99]},{"app":[101,103]},{"app":[87,100]},{"app":[104,105]},{"app":[96,106]},{"annotation":{"args":[107],"name":"as_is"}},{"app":[95,108]},{"app":[74,109]},{"app":[63,110]},{"app":[53,111]},{"const":[["tactic","save_info"],[]]},{"const":[[4,"_",371],[]]},{"prenum":{"args":[],"value":"57"}},{"app":[114,115]},{"prenum":{"args":[],"value":"1"}},{"app":[116,117]},{"annotation":{"args":[118],"name":"anonymous_constructor"}},{"app":[113,119]},{"app":[112,120]},{"app":[52,121]},{"app":[42,122]},{"const":[["tactic","save_info"],[]]},{"const":[[4,"_",372],[]]},{"prenum":{"args":[],"value":"57"}},{"app":[125,126]},{"prenum":{"args":[],"value":"0"}},{"app":[127,128]},{"annotation":{"args":[129],"name":"anonymous_constructor"}},{"app":[124,130]},{"app":[123,131]},{"app":[41,132]},{"annotation":{"args":[133],"name":"by"}}],"file":1,"level":["0",{"suc":0}]}